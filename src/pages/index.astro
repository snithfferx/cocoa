---
import Layout from '../layouts/Layout.astro';
import ImageUploadForm from '../components/ImageUploadForm.astro';
import ResultsDisplay from '../components/ResultsDisplay.astro';
import { actions } from 'astro:actions';

const result = Astro.getActionResult(actions.processImage);
---

<Layout>
  {result?.data ? (
    <ResultsDisplay result={result?.data?.data} />
  ) : result?.error ? (
    <ResultsDisplay error={result?.error?.message} />
  ) : (
    <ImageUploadForm />
  )}
</Layout>